

<table class="table" infinite-scroll='getMoreData()' infinite-scroll-distance='10'> 

<!--<caption> Page {{curPage}} / {{totalPgs}} </caption>-->
  <thead>
    <tr>
      <th> Name  </th>
      <th> Email </th>
      <th> Number </th>
      <th> Action </th>
      <th>&nbsp;</th>
    </tr>
  </thead>
  <tbody>
  <tr>
    <td>
      <input list = "items" class="form-control" ng-model="contact.name" >
      <datalist id="items">
          <option ng-repeat="contact in contactlist" value="{{contact.name}}" />
        </datalist>
        <span class = "text text-danger" ng-hide="showErr">{{msgError}}</span>

    </td>
    <td><input list="itemsemail" class="form-control" ng-model="contact.email">
        <datalist id="itemsemail">
          <option ng-repeat="contact in contactlist" value="{{contact.email}}" />
        </datalist>
        
    </td>
    <td>
      <input list="itemsnumber" class="form-control" ng-model="contact.number">
        <datalist id="itemsnumber">
          <option ng-repeat="contact in contactlist" value="{{contact.number}}" />
        </datalist>
          
        <input type="hidden" class="form-control" ng-model="contact.imageProfile" >
    </td>
    <td ng-hide="updtbtn"><button class="btn btn-default" ng-click="addContact()"><span class="glyphicon glyphicon-plus-sign" style="color:green"></span> Add contact</button></td>
    <td ng-show="updtbtn">
    <button class="btn btn-default" ng-click="updateContact()"><span class="glyphicon glyphicon-upload" style="color:green"></span> Update</button>
    <button class="btn btn-default" ng-click="Cancel()"><span class="glyphicon glyphicon-repeat" style="color:orange"></span> Cancel</button>
    </td>
  </tr>
    <tr ng-repeat="contact in contactfilter|orderBy:'name' | limitTo : end : begin">
    <!--{{contactlist.length}} || {{contactfilter.length}}-->
    <!--<tr ng-repeat="contact in filterData(fsearch)|limitTo:end:begin">-->
      <td >
      <img data-toggle="modal" data-target="#myModal" id={{contact._id}}  ng-click="selectUserDetails(contact._id,contact.name , contact.number)" class="img-thumbnail" src="images/{{contact.imageProfile}}" width="50px" height="50px" >&nbsp;&nbsp;{{contact.name}}
      
      </td>
      <td class="vert-align">{{contact.email}}</td>
      <td class="vert-align" data-toggle ="modal" data-target="#smsModal" ng-click="selectUserDetails(contact._id,contact.name , contact.number)">{{contact.number}} </td>
      <td class="vert-align">
        <button class="btn btn-default" ng-click="editContact(contact._id)"><span class="glyphicon glyphicon-edit" style="color:teal"></span> Edit</button>&nbsp;
        <button class="btn btn-default" ng-click="delContact(contact._id)"><span class="glyphicon glyphicon-trash" style="color:orange"></span> Delete</button>

      </td>

      <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Change Photo - {{userName}}</h4>
        </div>
        <div class="modal-body">
         <p>
       
         <input type="file" name="photo" file-model="contact._id">
         <button type="submit" class="btn btn-default" ng-click="submit()">Submit</button>
         
         </p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>

  <!--SMS modal-->

   <div class="modal fade" id="smsModal" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Send SMS to {{userName}} <h4> <small>{{userNumber}}</small>&nbsp;&nbsp;<span ng-show="sentMessage">SMS sent &nbsp;<span class="glyphicon glyphicon-ok-circle" style="color:green"> </span></span></h4>
        </div>
        <div class="modal-body">
         <p>
          
          Compose <span class="glyphicon glyphicon-edit"></span><br/>
          <textarea rows="4" columns ="300" ng-model = "contact.content"> </textarea>
          <input type="button" name="sendsms" class="btn btn-info" value="Send" ng-click="sendSMS(userNumber);"> 
         
         </p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" >Close</button>
        </div>
      </div>

    </div>
  </div>
    </tr>

  </tbody>
  
</table>

<!--<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button>-->

 <div ng-hide="showPg"> 
<span class="text text-primary">Page  <span class="badge">{{curPage}} / {{totalPgs}}</span></span>
<ul class ="pagination pull-right">
    <li ng-repeat="pgs in indexPages" ng-click="showCurPage($index+1);">
        <a href="#">{{pgs}}</a>
    </li>




<!--<span id="more" class="text text" ng-click="showMore();">Show More</span>-->
</ul>

<footer class="footer">
        <p>&copy; 2017 Contact List App, Inc.</p>
      </footer>

<!--{{begin}} || {{end}} || {{contactlist}} {{contactlist.length}}-->
</div>
